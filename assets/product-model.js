import DeferredMedia from"deferred-media";class ProductModel extends DeferredMedia{loadContent(){super.loadContent(),window.Shopify.loadFeatures([{name:"model-viewer-ui",version:"1.0",onLoad:this.setupModelViewerUI.bind(this)}])}setupModelViewerUI(e){if(!e){try{this.modelViewerUI=new window.Shopify.ModelViewerUI(this.querySelector("model-viewer")),this.dispatchEvent(new CustomEvent("on:product-model:loaded"))}catch(e){console.log("There were errors setting up Model Viewer UI",e)}this.classList.remove("is-loading")}}}customElements.define("product-model",ProductModel),window.ProductModel={loadShopifyXR(){window.Shopify.loadFeatures([{name:"shopify-xr",version:"1.0",onLoad:this.setupShopifyXR.bind(this)}])},setupShopifyXR(e){e||(window.ShopifyXR?(document.querySelectorAll('[id^="ModelJson-"]').forEach((e=>{window.ShopifyXR.addModels(JSON.parse(e.textContent)),e.remove()})),window.ShopifyXR.setupXRElements()):document.addEventListener("shopify_xr_initialized",(()=>this.setupShopifyXR())))}},window.addEventListener("DOMContentLoaded",(()=>{window.ProductModel&&window.ProductModel.loadShopifyXR()}));
//# sourceMappingURL=product-model.js.map
