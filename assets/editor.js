import PageAnimations from"animations";window.theme.editor={eventQueue:[]},window.addEventListener("DOMContentLoaded",(()=>{if(window.Shopify.designMode){let e,t=!1;const o=()=>{e=document.getElementById("modal-main-menu"),e&&e.on("on:modal:opened",(()=>{t=!0})).on("on:modal:closed",(()=>{t=!1}))},s=()=>{e&&e.off("on:modal:opened",(()=>{t=!0})).off("on:modal:closed",(()=>{t=!1}))};o();const n=e=>{e&&(window.theme.editor.eventQueue.unshift(e),window.theme.editor.eventQueue.length>4&&(window.theme.editor.eventQueue.length=4))},c=()=>"block:select,section:select,section:load,block:deselect"===window.theme.editor.eventQueue.toString(),a=o=>{if(!t)return;const s=e.querySelector("drawer-menu"),n=s?s.currentPanelId:null,c=s.querySelector(`[mega-menu-block-id="${o}"]`);if(!c||c.id===n)return;const a=c.id;s.openMenuPanelById(a,!0,!1)},r=o=>{if(!t)return;const s=e.querySelector("drawer-menu"),n=s.querySelector(`details[open][mega-menu-block-id="${o}"]`);n&&s.closeSubmenu(n)};document.addEventListener("shopify:section:load",(s=>{n("section:load");const c=s.target,a=c.getAttribute("class").replace(/shopify-section[^ ]*[ ]?/g,"").trim(),r=`.section--${s.detail.sectionId}`;switch(PageAnimations.setup(c),window.theme.wrapRteTables(c),a){case"js-section__featured-collections":case"js-section__home-product":case"js-section__collection":case"js-section__search":window.SPR&&(window.SPR.initDomEls(),window.SPR.loadBadges());break;case"js-section__home-video":document.querySelector(`${r} .is-active vide-player`)?.loadContent();break;case"js-section__product-single":window.Shopify.PaymentButton&&window.Shopify.PaymentButton.init(),window.SPR&&(window.SPR.initDomEls(),window.SPR.loadProducts(),window.SPR.loadBadges()),new ResizeObserver(window.theme.setPdpHeight).observe(document.querySelector(".product-single__box")),document.getElementById("complementary-products")?(document.cookie.split("; ").find((e=>"creative__complementary-products-absent=true"===e))&&(window.theme.complementary_products_fetch_delay="1000"),document.cookie="creative__complementary-products-absent=false; SameSite=None; Secure"):document.cookie="creative__complementary-products-absent=true; SameSite=None; Secure";break;case"js-section__announcement":case"js-section__utility-bar":window.theme.setHeaderHeightVars();break;case"js-section__header":o(),document.body.classList.remove("header-down"),document.body.classList.remove("header-up"),document.documentElement.style.setProperty("--header-height",`${document.getElementsByClassName("js-header")[0].offsetHeight}px`),setTimeout((()=>{document.body.classList.remove("header-stuck")}),10),document.querySelector(".js-collection-banner")&&("true"===document.querySelector(".js-collection-banner").dataset.collectionHasImage&&document.querySelector(".js-header").classList.contains("header--transparent")?document.querySelector(".js-header").setAttribute("data-transparent-header",!0):document.querySelector(".js-header").setAttribute("data-transparent-header",!1)),window.theme.setUpHeaderResizeObservers(),e&&t&&e.openInstantly();break;case"js-section__collection-banner":"true"===document.querySelector(".js-collection-banner").dataset.collectionHasImage&&document.querySelector(".js-header").classList.contains("header--transparent")?document.querySelector(".js-header").setAttribute("data-transparent-header",!0):document.querySelector(".js-header").setAttribute("data-transparent-header",!1)}})),document.addEventListener("shopify:section:select",(e=>{n("section:select");const t=e.target;switch(t.getAttribute("class").replace(/shopify-section[^ ]*[ ]?/g,"").trim()){case"js-section__age-checker":document.getElementById("age-checker")&&document.getElementById("age-checker").open(),window.theme.currentOffset=window.scrollY;break;case"js-section__promo-pop":document.getElementById("promo-popup")&&document.getElementById("promo-popup").open(),window.theme.currentOffset=window.scrollY;break;case"js-section__home-slider":case"js-section__testimonials":setTimeout((()=>{t.querySelector("media-carousel")?.stop()}),50)}})),document.addEventListener("shopify:section:deselect",(e=>{n("section:deselect");const t=e.target;switch(t.getAttribute("class").replace(/shopify-section[^ ]*[ ]?/g,"").trim()){case"js-section__age-checker":document.getElementById("age-checker")?.close(),window.scrollTo({top:window.theme.currentOffset});break;case"js-section__promo-pop":document.getElementById("promo-pop")?.close(),window.scrollTo({top:window.theme.currentOffset});break;case"js-section__home-slider":case"js-section__testimonials":setTimeout((()=>{t.querySelector("media-carousel")?.start()}),50)}})),document.addEventListener("shopify:section:unload",(e=>{switch(e.target.getAttribute("class").replace(/shopify-section[^ ]*[ ]?/g,"").trim()){case"js-section__announcement":case"js-section__utility-bar":window.setTimeout(window.theme.setHeaderHeightVars,50);break;case"js-section__header":s();break;case"js-section__age-checker":case"js-section__promo-pop":document.getElementById("age-checker")?.close()}})),document.addEventListener("shopify:block:select",(e=>{n("block:select");const o=e.detail.sectionId,s=e.target;switch(s.closest(".shopify-section").getAttribute("class").replace(/shopify-section[^ ]*[ ]?/g,"").trim()){case"js-section__header":c()||(t?a(e.detail.blockId):(s.open(),document.querySelector("body").setAttribute("header-details-disclosure-edit","")));break;case"js-section__home-slider":{const e=Number(s.querySelector(".home-carousel__item").dataset.slideId),t=document.querySelector(`[data-section-id="${o}"] media-carousel`);setTimeout((()=>{t.slideTo(e)}),50);break}case"js-section__testimonials":{const e=Number(s.querySelector(".home-carousel__item").dataset.slideId),t=document.querySelector(`[data-section-id="${o}"] media-carousel`);setTimeout((()=>t.slideTo(e)),50);break}case"js-section__featured-collections":{if("BUTTON"!==s.tagName)break;const e=s.id,t=s.closest("tabbed-content");if(!t)break;t.openTab(e);break}case"js-section__announcement":{const t=e.target.id,o=s.closest("announcement-bar");o.removeAttribute("hidden"),o.autoplay&&o.stopAutoplay(),o.moveToSlideById(t,"instant"),o.stopInteractions();break}case"js-section__collection":{const e=document.getElementById("filters");e&&e.openInstantly();break}case"js-section__map":{const e=s.closest("accordion-group");e&&e.open(s.id);break}}})),document.addEventListener("shopify:block:deselect",(e=>{n("block:deselect");const t=e.target;switch(t.closest(".shopify-section").getAttribute("class").replace(/shopify-section[^ ]*[ ]?/g,"").trim()){case"js-section__collection":{const e=document.getElementById("filters");e&&e.close();break}case"js-section__header":t.close(),document.querySelector("body").removeAttribute("header-details-disclosure-edit"),r(e.detail.blockId);break;case"js-section__announcement":{const t=e.target.closest("announcement-bar");t.resumeInteractions(),t.autoplay&&t.startAutoplay();break}}}))}}));
//# sourceMappingURL=editor.js.map
