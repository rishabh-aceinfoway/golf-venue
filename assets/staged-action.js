const STATES=["IDLE","DOING","DONE"];class StagedAction extends HTMLElement{#s;#t=1500;constructor(){super(),this.#s=this.querySelector("staged-action-tick")}setState(s=STATES[0]){return new Promise(((t,i)=>{if(STATES.includes(s)||i(new Error("Invalid state")),s===STATES[0]&&(this.classList.remove("is-done"),this.classList.remove("is-doing"),t("Idle")),s===STATES[1]&&(this.classList.remove("is-done"),this.classList.add("is-doing"),t("Doing")),s===STATES[2]){this.classList.remove("is-doing"),this.classList.add("is-done");this.#s.getAnimations().length>0?this.#s.addEventListener("animationend",(()=>{this.classList.remove("is-done"),t("Done")})):setTimeout((()=>{this.classList.remove("is-done"),t("Done")}),this.#t)}}))}}customElements.define("staged-action",StagedAction);
//# sourceMappingURL=staged-action.js.map
