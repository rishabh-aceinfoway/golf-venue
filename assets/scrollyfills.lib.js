if("undefined"!=typeof window&&!("onscrollend"in window)){const t=new Event("scrollend"),n=new Set;document.addEventListener("touchstart",(e=>{for(let t of e.changedTouches)n.add(t.identifier)}),{passive:!0}),document.addEventListener("touchend",(e=>{for(let t of e.changedTouches)n.delete(t.identifier)}),{passive:!0}),document.addEventListener("touchcancel",(e=>{for(let t of e.changedTouches)n.delete(t.identifier)}),{passive:!0});let o=new WeakMap;function i(e,t,n){let o=e[t];e[t]=function(){let e=Array.prototype.slice.apply(arguments,[0]);o.apply(this,e),e.unshift(o),n.apply(this,e)}}function s(e,i,s,l){if("scroll"!=i&&"scrollend"!=i)return;let r=this,d=o.get(r);if(void 0===d){let i=0;d={scrollListener:e=>{clearTimeout(i),i=setTimeout((()=>{n.size?setTimeout(d.scrollListener,100):(r&&r.dispatchEvent(t),i=0)}),100)},listeners:0},e.apply(r,["scroll",d.scrollListener]),o.set(r,d)}d.listeners++}function l(e,t,n){if("scroll"!=t&&"scrollend"!=t)return;let i=this,s=o.get(i);void 0!==s&&(--s.listeners>0||(e.apply(i,["scroll",s.scrollListener]),o.delete(i)))}i(Element.prototype,"addEventListener",s),i(window,"addEventListener",s),i(document,"addEventListener",s),i(Element.prototype,"removeEventListener",l),i(window,"removeEventListener",l),i(document,"removeEventListener",l)}var e={__proto__:null};export{e as default};
