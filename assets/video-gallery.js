class VideoGallery extends HTMLElement{#e;#t;#i;constructor(){super(),this.#t=this.#l.bind(this)}connectedCallback(){const e=this.querySelector("video-gallery-slide.is-active");if(!e)throw new Error("No active slide found");this.#e=e.id,setTimeout((()=>{const t=e.querySelector("video-player");t&&t.loadContent(),this.#i=this.querySelectorAll("video-gallery-thumbnails button"),this.#i.forEach((e=>{e.addEventListener("click",this.#t)}))}))}disconnectedCallback(){this.#i&&this.#i.forEach((e=>{e.removeEventListener("click",this.#t)}))}changeSlide(e){if(this.#e===e)return this;const t=this.querySelector(`#${e}`);if(!t)return this;const i=t.querySelector("video-player");i&&i.loadContent().play();const l=this.querySelector("video-gallery-slide.is-active");if(l){const e=l.querySelector("video-player");l.classList.remove("is-active"),e.pause()}t.classList.add("is-active"),this.querySelector("video-gallery-thumbnails .is-active")?.classList.remove("is-active");const s=this.querySelector(`video-gallery-thumbnails button[data-target-id="${e}"]`)?.closest(".home-video__item");return s&&s.classList.add("is-active"),this.#e=e,this}#l(e){const{target:t}=e;this.changeSlide(t.dataset.targetId)}}customElements.define("video-gallery",VideoGallery);class VideoGalleryThumbnail extends HTMLElement{connectedCallback(){this.#s()}async#s(){const e=this.querySelector(".js-vimeo-thumb");if(e)try{const t=await fetch(`https://vimeo.com/api/v2/video/${e.dataset.vimeoId}.json`),[i]=await t.json(),{thumbnail_medium:l}=i;e.setAttribute("src",l),e.style.setProperty("opacity","1")}catch(e){console.error(`Could not load Vimeo poster: ${e}`)}}}customElements.define("video-gallery-thumbnail",VideoGalleryThumbnail);
//# sourceMappingURL=video-gallery.js.map
