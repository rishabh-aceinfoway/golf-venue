import DetailsDisclosure from"details-disclosure";class HeaderDetailsDisclosure extends DetailsDisclosure{#e;#t;#i;constructor(){super(),this.#e=this.mouseEnterListener.bind(this),this.#t=this.mouseLeaveListener.bind(this)}connectedCallback(){this.#i=this.querySelector("summary > a"),this.mainDetailsToggle.hasAttribute("open")||this.#s(),this.mainDetailsToggle.addEventListener("mouseenter",this.#e),this.mainDetailsToggle.addEventListener("mouseleave",this.#t)}disconnectedCallback(){this.disableListeners()}open(){this.mainDetailsToggle.hasAttribute("open")||(this.mainDetailsToggle.setAttribute("open",""),this.querySelector("summary").setAttribute("aria-expanded",!0),this.content.getBoundingClientRect().x+this.content.offsetWidth>window.innerWidth-30&&this.content.classList.add("is-left-aligned"),this.hasAttribute("adjust-mega-menu-height")&&this.#n(36))}close(){this.mainDetailsToggle.hasAttribute("open")&&(this.mainDetailsToggle.removeAttribute("open"),this.mainDetailsToggle.querySelector("summary").setAttribute("aria-expanded",!1),this.content.classList.remove("is-left-aligned"),this.hasAttribute("adjust-mega-menu-height")&&this.#o())}onToggle(){this.panelAnimations||(this.panelAnimations=this.content.getAnimations()),this.contentAnimations||(this.contentAnimations=Array.from(this.querySelectorAll(".has-animation")).reduce(((e,t)=>[...e,...t.getAnimations()]),[])),this.mainDetailsToggle.hasAttribute("open")?(setTimeout((()=>{this.#a()}),50),this.panelAnimations.forEach((e=>e.play())),this.contentAnimations.forEach((e=>e.play())),document.body.setAttribute("header-menu-open",""),this.classList.contains("mega")&&document.body.setAttribute("header-mega-menu-open","")):(this.#s(),this.panelAnimations.forEach((e=>e.cancel())),this.contentAnimations.forEach((e=>e.cancel())),document.body.removeAttribute("header-menu-open",""),this.classList.contains("mega")&&document.body.removeAttribute("header-mega-menu-open",""))}mouseEnterListener(){document.querySelector("body").hasAttribute("header-details-disclosure-edit")||this.open()}mouseLeaveListener(){document.querySelector("body").hasAttribute("header-details-disclosure-edit")||this.close()}disableListeners(){this.mainDetailsToggle.removeEventListener("mouseenter",this.#e),this.mainDetailsToggle.removeEventListener("mouseleave",this.#t)}#n(e=0){const t=document.querySelector(".js-header"),i=t&&t.getBoundingClientRect().bottom>0?t.getBoundingClientRect().bottom:0,s=Math.round(i+e);this.content.offsetHeight>window.innerHeight-s&&(this.content.style.setProperty("--header-elements-height",`${s}px`),this.content.classList.add("has-height-control"))}#o(){this.content.classList.remove("has-height-control")}#a(){this.#i&&this.#i.removeEventListener("click",HeaderDetailsDisclosure.#r)}#s(){this.#i&&this.#i.addEventListener("click",HeaderDetailsDisclosure.#r)}static#r(e){e.preventDefault()}}customElements.define("header-details-disclosure",HeaderDetailsDisclosure);
//# sourceMappingURL=header-details-disclosure.js.map
