import{Animations}from"animations";import{debounce}from"utils";class TabbedContent extends HTMLElement{connectedCallback(){this.tabs=this.querySelectorAll("tab-triggers button"),this.tabPanels=this.querySelectorAll("tab-panel"),this.tabList=this.querySelector("tab-triggers"),this.currentTab=Array.from(this.tabs).find((t=>"true"===t.getAttribute("aria-selected"))),this.currentTabIndex=Array.from(this.tabs).findIndex((t=>"true"===t.getAttribute("aria-selected"))),this.tabs.forEach((t=>{t.addEventListener("click",(t=>this.openTab(t.target.id)))})),this.tabList.addEventListener("keydown",(t=>{"ArrowRight"!==t.key&&"ArrowLeft"!==t.key||(this.tabs[this.currentTabIndex].setAttribute("tabindex",-1),"ArrowRight"===t.key?(this.currentTabIndex+=1,this.currentTabIndex>=this.tabs.length&&(this.currentTabIndex=0)):"ArrowLeft"===t.key&&(this.currentTabIndex-=1,this.currentTabIndex<0&&(this.currentTabIndex=this.tabs.length-1)),this.tabs[this.currentTabIndex].setAttribute("tabindex",0),this.tabs[this.currentTabIndex].focus())}))}openTab(t){if(this.currentTab.id===t)return;this.currentTab=Array.from(this.tabs).find((e=>e.id===t)),this.tabList.querySelectorAll('[aria-selected="true"]').forEach((t=>{t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1")})),this.currentTab.setAttribute("aria-selected",!0),this.currentTab.setAttribute("tabindex","0"),Array.from(this.tabPanels).forEach((t=>{t.setAttribute("hidden",!0);const e=t.querySelector(".js-animate-sequence");Animations.resetAnimations(e)}));this.querySelector(`#${this.currentTab.getAttribute("aria-controls")}`).removeAttribute("hidden")}}customElements.define("tabbed-content",TabbedContent);class TabTriggers extends HTMLElement{#t;constructor(){super(),this.#t=null,this.alignItems=this.parentElement.getAttribute("align-items")||"left"}connectedCallback(){this.#e(),this.#r();new ResizeObserver(debounce((()=>{this.#s()}),50)).observe(this)}#e(){this.#t=new MutationObserver((t=>{t.forEach((t=>{"attributes"===t.type&&"aria-selected"===t.attributeName&&t.target.getAttribute("aria-selected","true")&&this.#i()}))}))}#r(){const t=this.querySelectorAll("button"),e=this.closest(".section").querySelector(".js-update-link");e&&Array.from(t).forEach((t=>{t.addEventListener("click",(()=>{const r=t.dataset.updateLink;r&&e.setAttribute("href",r)}))}))}#i(){if(!["left","center"].includes(this.alignItems))return;const t=this.querySelector('[aria-selected="true"]'),e=Number(window.getComputedStyle(this).paddingLeft.replace("px",""));if(t){const r="left"===this.alignItems?t.offsetLeft-e:t.offsetLeft-(this.offsetWidth-t.offsetWidth)/2;this.scrollTo({left:r,behavior:"smooth"})}}#s(){if(this.scrollWidth>this.offsetWidth){const t=this.querySelectorAll("button");Array.from(t).forEach((t=>{this.#t.observe(t,{attributes:!0,childList:!1,subtree:!1})})),this.#i()}else this.#t.disconnect()}}customElements.define("tab-triggers",TabTriggers);
//# sourceMappingURL=tabbed-content.js.map
