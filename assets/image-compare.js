class ImageCompare extends HTMLElement{constructor(){super()}connectedCallback(){function t(t){const e=2.5949095;return t<.5?(2*t)**2*(7.189819*t-e)/2:((2*t-2)**2*((e+1)*(2*t-2)+e)+2)/2}["input","change"].forEach((t=>{this.querySelector("input").addEventListener(t,(({target:t})=>{this.animationFrame&&cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame((()=>{this.style.setProperty("--exposure",`${t.value}%`)}))}))}));const e=new IntersectionObserver(((n,r)=>{n.forEach((n=>{n.isIntersecting&&(!function(t){const e=performance.now();requestAnimationFrame((function n(r){let a=(r-e)/t.duration;a>1&&(a=1);const s=t.timing(a);t.draw(s,t.element,t.start),a<1&&requestAnimationFrame(n)}))}({duration:1e3,timing:t,element:n.target,start:n.target.dataset.startPoint,draw(t,e,n){const r=n-15+15*t;e.style.setProperty("--exposure",`${r}%`),e.querySelector("input").value=r,e.setAttribute("animated","")}}),e.unobserve(n.target))}))}),{threshold:.6});this.style.setProperty("--exposure",this.dataset.startPoint-15+"%"),this.querySelector("input").value=this.dataset.startPoint-15,e.observe(this)}}customElements.define("image-compare",ImageCompare);
//# sourceMappingURL=image-compare.js.map
