import{debounce,isHidden}from"utils";class MapsWithDetails extends HTMLElement{#e;#t;#i;connectedCallback(){this.#e=this.querySelectorAll("details"),this.#t=this.querySelectorAll("map-media"),this.#i=new ResizeObserver(debounce(this.#s.bind(this),50)),this.#i.observe(this),this.#e.forEach((e=>{e.addEventListener("on:accordion:opening",(e=>{const t=e.target.getAttribute("data-map-id-trigger");t&&(this.querySelectorAll(".is-active").forEach((e=>e.classList.remove("is-active"))),this.querySelectorAll(`[data-map-id="${t}"]`).forEach((e=>e.classList.add("is-active"))))}))}))}#s(e){e.forEach((({target:e})=>{this.#t.forEach((t=>{if(isHidden(t)){const i=t.getAttribute("id");if(i){const s=Array.from(e.querySelectorAll(`[data-map-id="${i}"]:empty`)).find((e=>!isHidden(e)));s&&s.appendChild(t)}}}))}))}}customElements.define("maps-with-details",MapsWithDetails);
//# sourceMappingURL=maps-with-details.js.map
