class ProductCardSpinner extends HTMLElement{#s;#t;constructor(){super(),this.loadingClass="loading",this.#t=null,this.#s=this.#e.bind(this)}connectedCallback(){this.#a()}disconnectedCallback(){this.#t&&this.#t.disconnect()}#a(){const s=this.nextElementSibling;s&&"IMG"===s.tagName&&(this.#t||(this.#t=new MutationObserver(this.#s)),this.#t.observe(s,{attributeFilter:["src"],attributeOldValue:!0,subtree:!1}))}#e(s){s.forEach((s=>{if("attributes"===s.type&&"src"===s.attributeName){if(s.oldValue.split("//cdn.shopify.com/").pop()!==s.target.src.split("//cdn.shopify.com/").pop()){const t=s.target;t.classList.contains(this.loadingClass)||(t.classList.add(this.loadingClass),this.classList.add(this.loadingClass)),t.onload=()=>{t.classList.remove(this.loadingClass),this.classList.remove(this.loadingClass)}}}}))}}customElements.define("product-card-spinner",ProductCardSpinner);
//# sourceMappingURL=product-card-spinner.js.map
