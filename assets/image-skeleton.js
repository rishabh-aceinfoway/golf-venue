class ImageSkeleton extends HTMLElement{#e;#t;#i;connectedCallback(){this.hasAttribute("loaded")||(this.#t=Number(this.getAttribute("minimum-reveal-delay")||0),this.#i=null,this.#e=Date.now(),this.init())}init(){const e=this.nextElementSibling&&"IMG"===this.nextElementSibling.tagName?this.nextElementSibling:null;if(!e)return;const t=()=>{this.#i=setInterval((()=>{Date.now()-this.#e>=this.#t&&(clearInterval(this.#i),setTimeout((()=>{this.markAsLoaded()}),250))}),50)};e.hasAttribute("src")&&e.complete?this.#t?t():this.markAsLoaded():e.addEventListener("load",t.bind(this))}markAsLoaded(){this.setAttribute("loaded",""),this.setAttribute("aria-hidden","true")}}customElements.define("image-skeleton",ImageSkeleton);
//# sourceMappingURL=image-skeleton.js.map
